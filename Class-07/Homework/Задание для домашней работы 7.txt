В настоящем задании вам предстоит исследовать положительную аномалию температуры
в Москве (так называемый "городской остров тепла") по сравнению с областью на
основе данных метеостанций Росгидромета, полученных с
сайта http://pogodaiklimat.ru/.

На первом этапе статистическим путем подтверждается наличие аномалии
температуры, на втором этапе исследуется корреляция этой аномалии со средней по
региону скоростью ветра (известно, что остров тепла более выражен в безветренную
погоду). Анализ проводится отдельно для общей и "ночной" выборки с целью
выяснить наличие усиления городского эффекта в ночное время.

В качестве пунктов анализа используются станции Москва (центр, Балчуг) и Малое
Сареево, располагающаяся в 12 км к западу от МКАД. Полная выборка метеостанций
используется для вычисления средней по региону скорости ветра.

Исходные данные:
1. Каталог метеостанций (ссылка №1)
https://docs.google.com/spreadsheets/d/1InNM-zQbdhSlw1zmQPf9lPJvVr8waTqOq3G3Li6v4MU/edit?usp=drive_web&authuser=0
2. Данные метеостанций (ссылка №2)
https://docs.google.com/spreadsheets/d/1EHvMAuUoMtNbMzRCyOVZU81nB9yK48x7rpH2Rp56jrw/edit?usp=drive_web&authuser=0

Специальные требования:
1. Данные выгружаются непосредственно из Google Drive средствами пакета
googlesheets4, без их сохранения как локальных файлов.
2. Все графики строятся средствами ggplot.
3. Каждый этап работы (см. ниже) оформляется ка отдельный блок кода (chunk) в
документе R Notebook.
4. Перед каждым блоком кода пишется преамбула со пояснениями относительно смысла
проводимых в нём расчетов.
5. После каждого блока кода, в котором строится график или проводятся расчеты,
пишется краткий текст с анализом полученных результатов. В частности необходимо
дать оценку статистической значимости полученных результатов, проанализировать
их отличия за ночное время по сравнению с общей выборкой.

Последовательность анализа:
1. Загрузить каталог метеостанций.
2. Загрузить данные метеостанций и представить их в виде одного фрейма данных с
лаконичными латинскими названиями столбцов и дополнительными столбцами
идентификатора (ID) и названия (NAME) метеостанции. Пример шапки фрейма
представлен во вложении.
3. Выполнить фильтрацию данных, оставив информацию только по двум интересующим
метеостанциям. Дополнительно выполнить фильтрацию, оставив данные только за
ночное время (берем 0 и 3 ч). Итого получаем два новых фрейма данных: общий и
"ночной".
4. Построить для анализируемых станций функции плотности распределения
температур и диаграммы размаха (боксплоты) для общей и ночной выборки. Итого 4
графика, на каждом из которых сравниваются данные по двум метеостанциям.
5. Выполнить тесты Стьюдента и Фишера на равенство средних и дисперсий
температур для общей и ночной выборки по обеим метеостанциям. Итого 4 теста, в
каждом из которых вычисляется искомое значение (среднее и дисперсия
соответственно), а также дается статистическая значимость результата
(p-значение).
6. Вычислить фрейм данных, в котором на каждый временной срез имеется разность
температур между городской и загородной метеостанцией, а также средняя по всем
метеостанциям (средняя по региону) скорость ветра. Дополнительно создать
"ночную" версию этого фрейма данных с информацией за 0 и 3 ч.
7. Построить диаграммы рассеяния между скоростью ветра и разностью температур
для общей и ночной выборки.
8. Построить аналогичные диаграммы рассеяния, но подобрав такое преобразование
осей, при котором найденная закономерность превращается в линейную. Добавить на
графики линию линейной регрессии.
9. Выполнить корреляционный тест между скоростью ветра (X) и разностью
температур (Y) для общей и ночной выборки, применив к ним найденное
линеаризующее преобразование.
10. Построить модель линейной регрессии между скоростью ветра (X) и разностью
температур (Y) для общей и ночной выборки, применив к ним найденное
линеаризующее преобразование.

Подсказки (в соответствии с шагами):
2. Поскольку данные распределены по вкладкам, а их названия совпадают с
идентификаторами метеостанций, вы можете использовать для чтения вкладок
lapply(...), применив ее к вектору идентификаторов метеостанций. Схлопнуть
полученный список фреймов данных в одну таблицу можно, используя bind_rows(...).
Обратите внимание на то, что функция read_sheet(...) ожидает получить название
вкладки как строку. При чтении сразу задайте типы столбцов в параметре
col_types. Первый столбец задайте как текстовый. После чтения задайте столбцам
новые краткие имена с помощью функции rlang::set_names(...) и преобразуйте
первый столбец в формат время-дата, используя функцию as.POSIXct(...). Как
добавить идентификатор и название метеостанции — решите сами.
3. Чтобы понять, какому часу соответствует время, используйте функцию
lubridate::hour(...).
6. Среднюю по региону скорость ветра проще вычислить в отдельном фрейме и потом
присоединить к фрейму, в котором рассчитана разность температур между станциями.

Общие требования:
— соблюдение общепринятого стиля программирования,
— осмысленные названия переменных (только латиница),
— комментарии по ходу программы
— редактировать входные данные и названия файлов нельзя
— организация необходимых преобразований данных посредством конвейера
манипуляций

Форма представления:
— файл R Notebook, названный латиницей по шаблону 7_Фамилия.Rmd (например,
7_Samsonov.Rmd)
